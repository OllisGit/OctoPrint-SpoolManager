{% include "SpoolManager_sidebar_dialogs.jinja2" %}

<div id="sidebar_spool_select">
<!--   TODO support for multiple spools for multiple tools -->

    <div id="selectedSpools" data-bind="foreach: selectedSpoolsForSidebar">
      <div>
          <!-- ko if: $parent.selectedSpoolsForSidebar().length > 1 -->
          <div>
             <b><span data-bind="text: $index"></span>:</b>
          </div>
          <!-- /ko -->
          <!-- ko ifnot: $data -->
          <div class="spool-label">
             No spool selected
          </div>
          <div>
             <div class="btn-group">
                <button class="btn btn-mini" data-bind="click: $parent.sidebarOpenSelectSpoolDialog.bind($data, $index())" title="Change Spool"><span class="icon-refresh"></span></button>
             </div>
          </div>
          <!-- /ko -->
          <!-- ko if: $data -->
          <div>
             <span class="color-preview" data-bind="style: {'background-color': color}, attr: { title: colorName }"></span>
          </div>
          <div class="spool-label">
             <span data-bind="text: material"></span> - <span  data-bind="text: displayName"></span>
             <span data-bind="text: $root.remainingText($data), attr: {title: $root.buildTooltipForSpoolItem($data, 'Remaining weight: ', 'remainingWeight')}" class="spool-remaining" title="Remaining weight"></span>
          </div>
          <div>
              <div class="btn-group">
                <button class="btn btn-mini" data-bind="click: $parent.editSpoolFromSidebar.bind($data, $index())" title="Edit Spool"><span class="icon-edit"></span></button>
                <button class="btn btn-mini" data-bind="click: $parent.deselectSpoolForSidebar.bind($data, $index())" title="Deselect Spool"><span class="icon-remove"></span></button>
                <button class="btn btn-mini" data-bind="click: $parent.sidebarOpenSelectSpoolDialog.bind($data, $index())" title="Change Spool"><span class="icon-refresh"></span></button>
            </div>
          </div>
          <!-- /ko -->
      </div>
    </div>
</div>
